ALIGERAR EL SISTEMA QUE TRAE
============================

Por ahora es la opción más sencilla porque no consigo que TWRP funcione, se cuelga en la pantalla del título.

--Elimimanos todas las Apps que nos deja eliminar de una tacada (seleccionándolas todas) en .
--Ahora, para poder usar ADB, habilitamos el modo desarrollador pinchando a lo loco en "Sobre el Teléfono->Versión de MIUI" (7 veces)
y luego en "Ajustes Adicionales -> Opciones de Desarrollador -> Depuración USB".
Y ya podemos usar ADB conectándolo por USB (para usar ADB simplemente el sistema estará corriendo normal).
--Con "adb" eliminamos todas estas del tirón:

adb shell pm uninstall --user 0 com.facebook.services
adb shell pm uninstall --user 0 com.facebook.system
adb shell pm uninstall --user 0 com.facebook.appmanager

adb shell pm uninstall --user 0 com.google.android.gms
adb shell pm uninstall --user 0 com.google.android.gsf
adb shell pm uninstall --user 0 com.android.vending
adb shell pm uninstall --user 0 com.google.android.apps.maps
adb shell pm uninstall --user 0 com.google.android.apps.walletnfcrel
adb shell pm uninstall --user 0 com.google.android.calendar
adb shell pm uninstall --user 0 com.google.android.googlequicksearchbox
adb shell pm uninstall --user 0 com.google.android.gm
adb shell pm uninstall --user 0 com.google.android.youtube
adb shell pm uninstall --user 0 com.google.android.apps.subscriptions.red
adb shell pm uninstall --user 0 com.google.android.contacts
adb shell pm uninstall --user 0 com.google.android.apps.googleassistant
adb shell pm uninstall --user 0 com.google.android.dialer

adb shell pm uninstall --user 0 com.miui.player
adb shell pm uninstall --user 0 com.miui.videoplayer
adb shell pm uninstall --user 0 com.xiaomi.scanner
adb shell pm uninstall --user 0 com.xiaomi.midrop
adb shell pm uninstall --user 0 com.xiaomi.mipicks
adb shell pm uninstall --user 0 com.miui.miservice
adb shell pm uninstall --user 0 com.xiaomi.finddevice

--Al acabar, instálate desde F-DROID (ya que las apps de google fallan: es importante
que hayas desinstalado "com.google.android.dialer"):
---FOSSIFY PHONE para llamadas
---FOSSIFY CONTACTS para gestionar los contactos (o sea, agenda)
---FOSSIFY MESSAGES para SMS

--SI NO SABES CÓMO SE LLAMA UNA APP PARA ELIMINARLA, ÁBRELA, Y MIENTRAS ESTÉ EN PANTALLA HACES:
adb shell dumpsys activity activities | grep "ResumedActivity"
...Y AHÍ LO VES.

--NO DESINSTALES NADA DE WEATHER O NO ARRANCARÁ.

--BANCA: Para poder registrar la app de ING, debes tener activados temporalmente los servicios de Google así
porque si no, no te llega el SMS con la clave:
adb shell cmd package install-existing com.google.android.gms
adb shell cmd package install-existing com.google.android.gfs
....Una vez registrada, los puedes volver a desinstalar.

ACTIVAR DEVELOPER MODE
======================

Settings->About Phone->MIUI Version (7 veces)

Y las opciones de desarrollo están en:
Settings->Additional settings->Developer options

DESBLOQUEAR EL BOOTLOADER
=========================

Usa algo de esto: https://github.com/topminipie/awesome-xiaomi-bootloader-unlock

INSTALAR TWRP Y LINEAGE OS
==========================

Para el REDMI 9A, buscamos todo por el codename, que es DANDELION.

-NO INSTALES NADA DE CYANOGENMODS.ORG, O ACABARÁS CON BOOTLOP.

-SI TIENES BOOTLOOP, RE-FLASHEA LAS PARTICIONES BOOT Y RECOVERY.
HE OBTENIDO AMBOS .IMG DE ESTE HILO:
https://forum.xda-developers.com/t/img-stock-boot-vbmeta-and-recovery-images-partitions-for-dandelion-redmi-9a-redmi-9at.4210805/
USA LAS VERSIONES 12.0.17 GLOBAL DE AMBOS.
DE TODOS MODOS LOS TIENES EN EL DISCO DE BACKUP.

-EL archivo de RECOVERY de TWRP lo he sacado de los archivos adjuntos de este vídeo de youtube:
https://www.youtube.com/watch?v=Rw838oP53ZY
TIENES COPIAS DE SEGURIDAD EN EL DISCO DURO DE BACKUP.
EL ARCHIVO DE RECOVERY QUE HAY QUE FLASEAR SE LLAMA: TWRP-3.4.2B-CN-dandelion.img

Lo flasheamos (sin miedo) con:
sudo fastboot flash recovery TWRP-3.4.2B-CN-dandelion.img
Ya podemos arrancar en modo recovery.

-La ROM de LINEAGE OS para DANDELION (vale para 9A y 9C) está en:
https://forum.xda-developers.com/t/rom-unofficial-11-0-lineageos-18-1-unified-for-redmi-9a-9c-9-activ-garden.4362597/
(El volúmen de las llamadas suena bajo, pero por lo demás va perfecto).

INSTALAR LINEAGE OS
-Arrancamos en TWRP (power + subir volúmen + bajar volúmen) con el ZIP copiado a una microSD, y lo instalamos desde TWRP como siempre.

RESTAURAR DE FÁBRICA
====================

--Si algo sale mal, pero aún puedes entrar en FASTBOOT (power + vol_down), puedes dejar el teléfono de fábrica.
Para ello:
---Bájate el "Fastboot ROM (Flash File)" que suele estar aquí: https://miuirom.org/phones/redmi-9a#Global
(El fichero se llama dandelion_global_images_V12.5.7.0.RCDMIXM_20221107.0000.00_11.0_global_3319fae180.tgz,
 y lo deberías tener en el disco duro de backup).
---Instala esto en Linux: sudo apt install android-tools-fastboot
---Comprueba que se detecta el teléfono en modo fastboot: fastboot devices
---Descomprime el .tgz ese enorme y ahí dentro hay un fichero llamado "flash_all.sh", lo ejecutas y flasheará todo correctamente.
   Al acabar se reinicia el teléfono y tardará un huevo en arrancar pero arranca al sistema por defecto.

--Si algo sale MUY MAL, puedes entrar en modo BROM y usar mtkclient para flashear a mano particiones y tal, y poder al menos entrar en FASTBOOT.
